---
# tasks file for worker

- name: Get kubeadm token which is generated from master
  set_fact:
    kubeadm_token:  "{{ hostvars['master']['kubeadm_token'] }}"

- name: Print out kubeadm_token in worker
  debug: var=kubeadm_token

- name: Print out worker hostname
  debug: var=ansible_hostname

- name: Print out worker IP address
  debug: var=ansible_host

- name: Get join_command which is generated from master
  set_fact:
    kubeadm_token:  "{{ hostvars['master']['join_command'] }}"

- name: Print out join_command in worker
  debug: var=join_command